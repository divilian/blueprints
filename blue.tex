%
% TODO: use "this." consistently everywhere for inst vars (and self-method
% calls)
%
% To compile:
%   pdflatex blue.tex
%   makeindex blue.idx
%   pdflatex blue.tex
%
% The content and cover files, explained:
% - cover.xcf: Gimp file of full cover (front/back/spine)
% - cover.pdf: full cover (front/back/spine)
% - blue_cover.xcf Gimp file of just front
% - blue_cover.pdf just front
% - blank.pdf a blank PDF page
% - blue.pdf: content only, entire book
% - blue_wcover.pdf: front cover and content, for electronic posting.
%   To make this:
%   $ pdftk blue_cover.pdf blank.pdf blue.pdf output blue_wcover.pdf
\documentclass[11pt]{memoir}
\usepackage[usenames,dvipsnames]{color}
\usepackage[hidelinks]{hyperref}
%\usepackage[x-1a]{pdfx}
\usepackage{bbding}  % for checkmark and X
\usepackage{dingbat}  % for leftthumbsup
\usepackage{array}           % For double-column exercises.
\usepackage{longtable}       % For double-column exercises.
\usepackage[normalem]{ulem}  % For strikethrough.
\usepackage{paralist}
\usepackage{enumitem}        % To "resume" enumerated lists.
\usepackage{epsfig}
\usepackage[nokeyprefix]{refstyle}
\usepackage{afterpage}
\usepackage{aurical}
\usepackage[T1]{fontenc}
\usepackage{varwidth}
\usepackage{multicol}
\usepackage{fancybox}
\usepackage[makeidx]{hvindex}
\usepackage{textcomp}
\usepackage{fancyvrb}
\usepackage{footnote}
\usepackage{makecell}
\usepackage{amsmath,amsthm,amsfonts,amssymb,latexsym}
\usepackage{MnSymbol}
\usepackage{wasysym}
\usepackage{float}
\usepackage{wrapfig}
\usepackage[width=.9\textwidth,singlelinecheck=true,skip=1pt,font=small,labelfont=bf]{caption}
\usepackage{tabularx}
\usepackage{upquote}


% Lulu.com
%\setstocksize{23.389cm}{15.593cm}
%\settrimmedsize{\stockheight}{\stockwidth}{*}
%\settrims{0pt}{0pt}

% Blurb.com
\setstocksize{9.25in}{6.125in}
\settrimmedsize{9in}{6in}{*}
\settrims{.125in}{.125in}

% Amazon.com
%\setstocksize{9in}{6in}
%\settrimmedsize{9in}{6in}{*}
%\settrims{0pt}{0pt}

\setlxvchars
\settypeblocksize{*}{\lxvchars}{1.618}

%\setlrmargins{*}{*}{.618}
\setlrmargins{*}{1.2cm}{.618}

% Lulu.com
%\setulmargins{110pt}{*}{*}

% Blurb.com
\setulmargins{80pt}{*}{*}
\setheaderspaces{50pt}{*}{1.618}

\checkandfixthelayout

\newcommand{\freakingtilde}{\raisebox{0.5ex}{\texttildelow}}

\makesavenoteenv{tabular}  % to allow footnotes in tables
\makesavenoteenv{figure}  % to allow footnotes in tables

\definecolor{darkgreen}{rgb}{0,.55,0}
\definecolor{darkred}{rgb}{.75,0,0}


%\captionsetup{width=.9\textwidth}

%\usepackage{enumerate}

% Crazy macro from:
% https://tex.stackexchange.com/questions/36401/drawing-boxes-around-words
% Used in "discovering" chapter.
\def\bluebox#1{\leavevmode \setbox0=\hbox{#1}%
   \dimen0=\wd0 \edef\posxA{\expandafter\ignorept\the\dimen0 \space}%
   \hbox{\kern3pt\pdfliteral{q .8 .8 1 rg .8 .8 1 RG .9963 0 0 .9963 0 0 cm 1
j 1 J 6 w
                             0 0 m 0 5 l \posxA 5 l \posxA 0 l 0 0 l B Q}%
         \box0 \kern3pt}%
}
{\lccode`\?=`\p \lccode`\!=`\t  \lowercase{\gdef\ignorept#1?!{#1}}}

\makeindex

\newenvironment{custommargins}[2]%
  {\addtolength{\leftskip}{#1}\addtolength{\rightskip}{#2}}{\par}

%% Set left margin - The default is 1 inch, so the following
%% command sets a 2-inch left margin.
%\setlength{\oddsidemargin}{1in}
%\setlength{\evensidemargin}{0in}
%% Set width of the text - What is left will be the right margin.
%% In this case, right margin is 8.5in - 1.25in - 6in = 1.25in.
%\setlength{\textwidth}{5.5in}
%
%% Set top margin - The default is 1 inch, so the following
%% command sets a 0.75-inch top margin.
%\setlength{\topmargin}{.75in}
%
%% Set height of the text - What is left will be the bottom margin.
%% In this case, bottom margin is 11in - 0.75in - 9.5in = 0.75in
%\setlength{\textheight}{7.25in}

\setlength{\parindent}{0pt}
\setlength{\baselineskip}{1.5pt}
\setlength{\parskip}{6pt}

\begin{document}

\title{{\Huge Blueprints:}\\
{\Large Creating, Describing, and Implementing Designs}\\
{\Large for Larger-scale Software Projects}\\{\small version 2.5}}
\author{Stephen Davies, Ph.D.\\Computer Science Department\\University of Mary Washington}
\date{}
\maketitle

\include{copyright}
\frontmatter

\renewcommand{\contentsname}{Contents}

% Add empty page to get to a multiple of 12 (312 total pages).
\begingroup
  \null
  \newpage
\endgroup

\setcounter{tocdepth}{0}
\tableofcontents

%\include{preface}

\setcounter{chapter}{0}

\mainmatter
\include{gettingOff}
\include{crisis}
\include{classesObjects}
\include{memoryMatters}
\include{exceptions}
\include{classDiags}
\include{singleton}
\include{oddsAndEnds}
\include{seqDiags}
\include{persistence}
\include{inheritance}
\include{inheritance2}
\include{factory}
\include{teamDev}
\include{discovering}
\include{discovering2}
\include{useCases}
\include{api}

% Add empty page to get to a multiple of 12 (312 total pages).
%\begingroup
%  \null
%  \newpage
%\endgroup
\backmatter
\printindex


% Add empty (number-less) page to get to a multiple of 12 (312 total pages).
%\shipout\null

\end{document}
